{"version":3,"sources":["../src/index.ts"],"sourcesContent":["import {blake2b} from \"libskynet\"\nimport {Buffer} from \"buffer\";\n\nexport function hashDataKey(dataKey: string): Uint8Array {\n    return blake2b(encodeUtf8String(dataKey));\n}\n\nexport function encodeUtf8String(str: string): Uint8Array {\n    const byteArray = stringToUint8ArrayUtf8(str);\n    const encoded = new Uint8Array(8 + byteArray.length);\n    encoded.set(encodeNumber(byteArray.length));\n    encoded.set(byteArray, 8);\n    return encoded;\n}\n\nexport function stringToUint8ArrayUtf8(str: string): Uint8Array {\n    return Uint8Array.from(Buffer.from(str, \"utf-8\"));\n}\n\nexport function encodeNumber(num: number): Uint8Array {\n    const encoded = new Uint8Array(8);\n    for (let index = 0; index < encoded.length; index++) {\n        encoded[index] = num & 0xff;\n        num = num >> 8;\n    }\n    return encoded;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAsB;AACtB,oBAAqB;AAEd,SAAS,YAAY,SAA6B;AACrD,aAAO,0BAAQ,iBAAiB,OAAO,CAAC;AAC5C;AAEO,SAAS,iBAAiB,KAAyB;AACtD,QAAM,YAAY,uBAAuB,GAAG;AAC5C,QAAM,UAAU,IAAI,WAAW,IAAI,UAAU,MAAM;AACnD,UAAQ,IAAI,aAAa,UAAU,MAAM,CAAC;AAC1C,UAAQ,IAAI,WAAW,CAAC;AACxB,SAAO;AACX;AAEO,SAAS,uBAAuB,KAAyB;AAC5D,SAAO,WAAW,KAAK,qBAAO,KAAK,KAAK,OAAO,CAAC;AACpD;AAEO,SAAS,aAAa,KAAyB;AAClD,QAAM,UAAU,IAAI,WAAW,CAAC;AAChC,WAAS,QAAQ,GAAG,QAAQ,QAAQ,QAAQ,SAAS;AACjD,YAAQ,SAAS,MAAM;AACvB,UAAM,OAAO;AAAA,EACjB;AACA,SAAO;AACX;","names":[]}